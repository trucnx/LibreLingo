"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("svelte/store"),n=(e=require("intl-messageformat"))&&"object"==typeof e&&"default"in e?e.default:e;const o=(e,t="")=>{const n={};for(const r in e){const i=t+r;"object"==typeof e[r]?Object.assign(n,o(e[r],`${i}.`)):n[i]=e[r]}return n};let r;const i=t.writable({});function a(e){return e in r}function l(e,t){if(a(e)){const n=function(e){return r[e]||null}(e);if(t in n)return n[t]}return null}function s(e,...t){const n=t.map(e=>o(e));i.update(t=>(t[e]=Object.assign(t[e]||{},...n),t))}const c=t.derived([i],([e])=>Object.keys(e));i.subscribe(e=>r=e);const u={};function m(e){return u[e]}function f(e){return L(e).reverse().some(m)}const d={};function p(e){if(!f(e))return;if(e in d)return d[e];const t=function(e){return L(e).reverse().map(e=>{const t=m(e);return[e,t?[...t]:[]]}).filter(([,e])=>e.length>0)}(e);return 0!==t.length?(d[e]=Promise.all(t.map(([e,t])=>Promise.all(t.map(e=>e())).then(t=>{!function(e){delete u[e]}(e),t=t.map(e=>e.default||e),s(e,...t)}))).then(()=>{delete d[e]}),d[e]):void 0}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function g(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}const w={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0};function b(){return w}const h=t.writable(!1);let y;const x=t.writable(null);function v(e,t){return 0===t.indexOf(e)&&e!==t}function O(e,t){return e===t||v(e,t)||v(t,e)}function j(e){const t=e.lastIndexOf("-");if(t>0)return e.slice(0,t);const{fallbackLocale:n}=b();return n&&!O(e,n)?n:null}function L(e){const t=e.split("-").map((e,t,n)=>n.slice(0,t+1).join("-")),{fallbackLocale:n}=b();return n&&!O(e,n)?t.concat(L(n)):t}function F(){return y}x.subscribe(e=>{y=e,"undefined"!=typeof window&&document.documentElement.setAttribute("lang",e)});const k=x.set;x.set=e=>{if(function e(t){return null==t||a(t)?t:e(j(t))}(e)&&f(e)){const t=b().loadingDelay;let n;return"undefined"!=typeof window&&null!=F()&&t?n=window.setTimeout(()=>h.set(!0),t):h.set(!0),p(e).then(()=>{k(e)}).finally(()=>{clearTimeout(n),h.set(!1)})}return k(e)},x.update=e=>k(e(y));const M=(e,t)=>{const n=e.split("&").find(e=>0===e.indexOf(`${t}=`));return n?n.split("=").pop():null},D=(e,t)=>{const n=t.exec(e);return n&&n[1]||null},E={},N=(e,t)=>{if(null==t)return null;const n=l(t,e);return n||N(e,j(t))},P=(e,t)=>{if(t in E&&e in E[t])return E[t][e];const n=N(e,t);return n?((e,t,n)=>n?(t in E||(E[t]={}),e in E[t]||(E[t][e]=n),n):n)(e,t,n):null},$=e=>{const t=Object.create(null);return n=>{const o=JSON.stringify(n);return o in t?t[o]:t[o]=e(n)}},S=(e,t)=>{const n=b().formats;if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},T=$(e=>{var{locale:t,format:n}=e,o=g(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(o=S("number",n)),new Intl.NumberFormat(t,o)}),I=$(e=>{var{locale:t,format:n}=e,o=g(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?o=S("date",n):0===Object.keys(o).length&&(o=S("date","short")),new Intl.DateTimeFormat(t,o)}),A=$(e=>{var{locale:t,format:n}=e,o=g(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?o=S("time",n):0===Object.keys(o).length&&(o=S("time","short")),new Intl.DateTimeFormat(t,o)}),_=(e={})=>{var{locale:t=F()}=e,n=g(e,["locale"]);return T(Object.assign({locale:t},n))},q=(e={})=>{var{locale:t=F()}=e,n=g(e,["locale"]);return I(Object.assign({locale:t},n))},H=(e={})=>{var{locale:t=F()}=e,n=g(e,["locale"]);return A(Object.assign({locale:t},n))},Z=$((e,t=F())=>new n(e,t,b().formats)),C=(e,t={})=>{"object"==typeof e&&(e=(t=e).id);const{values:n,locale:o=F(),default:r}=t;if(null==o)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");const i=P(e,o);return i?n?Z(i,o).format(n):i:(b().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${L(o).join('", "')}".${f(F())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),r||e)},J=(e,t)=>H(t).format(e),Q=(e,t)=>q(t).format(e),U=(e,t)=>_(t).format(e),z=t.derived([x,i],()=>C),B=t.derived([x],()=>J),G=t.derived([x],()=>Q),K=t.derived([x],()=>U);exports._=z,exports.addMessages=s,exports.date=G,exports.defineMessages=function(e){return e},exports.dictionary=i,exports.format=z,exports.getDateFormatter=q,exports.getLocaleFromHash=e=>"undefined"==typeof window?null:M(window.location.hash.substr(1),e),exports.getLocaleFromHostname=e=>"undefined"==typeof window?null:D(window.location.hostname,e),exports.getLocaleFromNavigator=()=>"undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0],exports.getLocaleFromPathname=e=>"undefined"==typeof window?null:D(window.location.pathname,e),exports.getLocaleFromQueryString=e=>"undefined"==typeof window?null:M(window.location.search.substr(1),e),exports.getMessageFormatter=Z,exports.getNumberFormatter=_,exports.getTimeFormatter=H,exports.init=function(e){const{formats:t}=e,n=g(e,["formats"]),o=e.initialLocale||e.fallbackLocale;return Object.assign(w,n,{initialLocale:o}),t&&("number"in t&&Object.assign(w.formats.number,t.number),"date"in t&&Object.assign(w.formats.date,t.date),"time"in t&&Object.assign(w.formats.time,t.time)),x.set(o)},exports.isLoading=h,exports.locale=x,exports.locales=c,exports.number=K,exports.register=function(e,t){m(e)||function(e){u[e]=new Set}(e);const n=m(e);m(e).has(t)||(a(e)||i.update(t=>(t[e]={},t)),n.add(t))},exports.t=z,exports.time=B,exports.waitLocale=function(e){return p(e||F()||b().initialLocale)};
